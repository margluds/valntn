<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: "Times New Roman", Times, serif;
            background-color: pink;
            transition: background-color 1s ease;
            overflow: hidden;
            text-align: center;
        }

        .container { 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 5;
            gap: 0px;
            transition: gap 0.6s ease;
            width: 100%;
            cursor: pointer;
        }

        .link {
            margin: 0;
            color: white;
            font-size: 24px;
            text-shadow: 1px 1px 15px white;
            transition: all 0.6s ease;
            padding: 0 10px;
        }

        #valentineText {
            color: white;
            font-size: 40px;
            font-weight: bold;
            height: 0;
            opacity: 0;
            overflow: hidden;
            transition: all 0.8s ease;
        }

        .stage1 { gap: 15px; }
        .stage1 #valentineText { height: 60px; opacity: 1; margin-top: 10px; }

        #options {
            opacity: 0;
            visibility: hidden;
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            transition: all 0.5s ease;
            margin-top: 20px;
            width: 100%;
        }

        .stage2 #options { opacity: 1; visibility: visible; }

        button {
            padding: 12px 25px;
            font-size: 18px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-family: "Times New Roman";
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #yesBtn { background-color: white; color: #ff69b4; font-weight: bold; z-index: 10; }
        #noBtn { background-color: #ffb7c5; color: white; }

        /* Overlays */
        .overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            padding: 20px;
            box-sizing: border-box;
        }

        #sadOverlay { background-color: #add8e6; }
        #happyOverlay { background-color: pink; }

        .overlay img { 
            max-width: 80%; 
            max-height: 40vh; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .overlay h2 { color: white; font-size: 32px; margin: 0; }
        
        .message {
            color: white;
            font-size: 18px;
            max-width: 400px;
            margin-top: 15px;
            line-height: 1.5;
            font-style: italic;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.1);
        }

        /* Particles */
        .particle {
            position: absolute;
            pointer-events: none;
            animation: fly 3s ease-out forwards;
            z-index: 200;
        }

        @keyframes fly {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) rotate(360deg); opacity: 0; }
        }

        @media (max-width: 600px) {
            #valentineText { font-size: 32px; }
            #options { flex-direction: column; gap: 15px; }
            .message { font-size: 16px; }
        }
    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source id="musicSource" src="Laufey.mp4" type="audio/mpeg">
    </audio>

    <div id="sadOverlay" class="overlay">
        <img src="cat.gif" alt="Sad">
        <h2>Okay:(</h2>
    </div>

    <div id="happyOverlay" class="overlay">
        <img src="catcat.gif" alt="Happy">
        <h2>YAY!! ❤️✨</h2>
        <p class="message">
            this still means we're friends (right..?) but I do want to make an effort because I still like you. :)
        </p>
    </div>

    <div class="container" id="mainWrapper" onclick="progressStory()">
        <p class="link">od u annw eb ym uhhhh...</p>
        <div id="valentineText">Valentine?</div>
        
        <div id="options">
            <button id="yesBtn" onclick="celebrate(event)">Yes</button>
            <button id="noBtn" onclick="handleNo(event)">No</button>
        </div>
    </div>

    <script>
        let currentStage = 0;
        let noCount = 0;
        const noTexts = ["Are you sure?", "Really sure?", "FR FR??", "???", "PLEASE?"];
        const music = document.getElementById('bgMusic');

        function progressStory() {
            // Starts music on first click
            if (music.paused) {
                music.play().catch(e => console.log("Music waiting for interaction"));
            }

            const wrapper = document.getElementById('mainWrapper');
            if (currentStage === 0) {
                wrapper.classList.add('stage1');
                currentStage = 1;
            } else if (currentStage === 1) {
                wrapper.classList.add('stage2');
                currentStage = 2;
            }
        }

        function handleNo(event) {
            event.stopPropagation();
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const optionsDiv = document.getElementById('options');

            if (noCount < noTexts.length) {
                noBtn.innerText = noTexts[noCount];
                yesBtn.style.transform = `scale(${1 + (noCount * 0.45)})`;
                optionsDiv.style.gap = (20 + (noCount * 45)) + "px";
                noCount++;
            } else {
                // Show sad screen and switch music
                document.getElementById('sadOverlay').style.display = 'flex';
                music.src = "Regine.mp4";
                music.play();
            }
        }

        function celebrate(event) {
            event.stopPropagation();
            // Start confetti
            for (let i = 0; i < 100; i++) { createParticle(); }
            
            // Switch to happy music (optional - you can keep the same song)
            music.src = "Giveon.mp4"; 
            music.play();

            setTimeout(() => {
                document.getElementById('happyOverlay').style.display = 'flex';
            }, 500);
        }

        function createParticle() {
            const p = document.createElement('div');
            p.classList.add('particle');
            const colors = ['#ffffff', '#ffeb3b', '#ff4081', '#00e676'];
            p.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            p.style.width = Math.random() * 10 + 5 + 'px';
            p.style.height = p.style.width;
            p.style.left = '50vw'; p.style.top = '50vh';
            const angle = Math.random() * Math.PI * 2;
            const velocity = Math.random() * 800 + 200;
            p.style.setProperty('--x', Math.cos(angle) * velocity + 'px');
            p.style.setProperty('--y', Math.sin(angle) * velocity + 'px');
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 3000);
        }
    </script>
</body>
</html>



